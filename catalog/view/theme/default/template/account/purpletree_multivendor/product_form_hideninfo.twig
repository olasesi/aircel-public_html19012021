
{{ header }}
 
<div class="pts-container">
  <ul class="pts-breadcrumb">
	{% for breadcrumb in breadcrumbs %}
      <li><a href="{{ breadcrumb.href }}">{{ breadcrumb.text }}</a></li></a></li>
    {% endfor %}  </ul>
  
  {% if error_warning %}
     <div class="alert alert-danger"><i class="fa fa-exclamation-circle"></i> {{ error_warning }}
      <button type="button" class="close" data-dismiss="alert">&times;</button>
    </div>
    {% endif %}
  <div class="pts-row d-flex">{{ column_left }}
	{% if column_left and column_right %}
    {% set class = 'pts-col-sm-6' %}
    {% elseif column_left or column_right %}
    {% set class = 'pts-col-sm-9' %}
    {% else %}
    {% set class = 'pts-col-sm-12' %}
    {% endif %}
    
    {# added code for progress  indicator #}
    {#<div class='sticky' style="height: 10px; width:850px; background-color: orange; margin-left:100px"></div>#}
    <!--<div class="dropdown">
            <div class="progress" style="margin-bottom: -1px; background-color: red;">
              <div class="progress-bar progress-bar-success" id="progress-indicator" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
                0%
              </div>
            </div>
        <div class="dropdown-content">
            <div class="hoverDiv">
                <div class="hoverCheck">Fields marked asterisk (*) are compulsory. </div>
            </div>            
            <div class="hoverDiv">
                <div class="hoverCheck">Enter Product name. Product name is compulsory</div>
            </div>
            <div class="hoverDiv">
                <div class="hoverCheck">Enter Product description. Product description is compulsory</div>
            </div>
            <div class="hoverDiv">
                <div class="hoverCheck">You must enter at least one product tag</div>
            </div>
            <div class="hoverDiv">
                <div class="hoverCheck">You must select at least one product category</div>
            </div>
            <div class="hoverDiv">
                <div class="hoverCheck">Model may be the same as the product name</div>
            </div>
            <div class="hoverDiv">
                <div class="hoverCheck">You are advised to upload at least the primary product image</div>
            </div>            
        </div>
    </div>-->
<div id="pts-content" class="{{ class }}">{{ content_top }}
        <form action="{{ action }}" method="post" enctype="multipart/form-data"  id="form-product" name="form-product" class="pts-form-horizontal">
          <ul class="pts-nav pts-nav-tabs">
		  <!--tabs -->
            <li class="active"><a href="#tab-general" data-toggle="tab">{{ tab_general }}</a></li>
            <li><a href="#tab-data" data-toggle="tab">{{ tab_data }}</a></li>
          </ul>
          <div class="pts-tab-content">
            <div class="pts-tab-pane active" id="tab-general">
              <ul class="pts-nav pts-nav-tabs" id="language">				
				<input type="hidden" name="seller_name" value="{{ seller_name }}">
				{% for language in languages %}
                <li><a href="#language{{ language.language_id }}" data-toggle="tab"><img src="catalog/language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /> {{ language.name }}</a></li>
                {% endfor %}
              </ul>
              <div class="pts-tab-content">
               {% for language in languages %}
               <div class="pts-tab-pane {{ language.activetab }}" id="language{{ language.language_id }}">
				    <div class="pts-form-group required">
                    <label class="pts-col-sm-2 pts-control-label" for="input-name{{ language.language_id }}"><span data-toggle="tooltip" title="{{ help_product_name }}">{{ entry_name }}</span></label>
                    <div class="pts-col-sm-10">
                      <input type="text" name="product_description[{{ language.language_id }}][name]" value="{{ product_description[language.language_id] ? product_description[language.language_id].name }}" placeholder="{{ entry_name }}" id="input-name{{ language.language_id }}" class="pts-form-control" />
                      {% if error_name[language.language_id] %}
                      <div class="text-danger">{{ error_name[language.language_id] }}</div>
                      {% endif %} </div>
                     <span style="margin:20px;" id="productname_error"></span>
                  </div>         
				  <div class="pts-form-group">
                    <label class="pts-col-sm-2 pts-control-label" for="input-description{{ language.language_id }}"><span data-toggle="tooltip" title="{{ help_product_desc }}">{{ entry_description }}</span></label>
                    <div class="pts-col-sm-10">
                     {#<textarea name="product_description[{{ language.language_id }}][description]" placeholder="{{ entry_description }}" id="input-description{{ language.language_id }}" data-toggle="summernote" data-lang="{{ summernote }}" class="pts-form-control">{{ product_description[language.language_id] ? product_description[language.language_id].description }}</textarea>#}
                     <textarea name="product_description[{{ language.language_id }}][description]" placeholder="{{ entry_description }}" id="input-description{{ language.language_id }}"  class="pts-form-control">{{ product_description[language.language_id] ? product_description[language.language_id].description }}</textarea>
                    </div>
                        <!--<span style="margin:20px;" id="productDesc_error"></span>-->
                  </div>

                 <div class="pts-form-group required">
                    <label class="pts-col-sm-2 pts-control-label" for="input-tag{{ language.language_id }}"><span data-toggle="tooltip" title="{{ help_tag }}">{{ entry_tag }}</span></label>
                    <div class="pts-col-sm-10">
                      <input type="text" name="product_description[{{ language.language_id }}][tag]" value="{{ product_description[language.language_id] ? product_description[language.language_id].tag }}" placeholder="{{ entry_tag }}" id="input-tag{{ language.language_id }}" class="pts-form-control" />
					  {% if error_tag[language.language_id] %}
                      <div class="text-danger">{{ error_tag[language.language_id] }}</div>
                      {% endif %}
                      <span id="producttag_error"></span>
                    </div>
                  </div>				  
              </div>			  	
          {% endfor %}
        </div>
			<!-- category option for single product -->
			   {% if module_purpletree_multivendor_seller_product_category == 0 %}
              <div class="pts-form-group required pts-category-dropdown">
                <label class="pts-col-sm-2 pts-control-label" for="input-category"><span data-toggle="tooltip" title="{{ help_category }}">{{ entry_category }}</span></label>
                <div class="pts-col-sm-10">
                  
                  <!--Added on 06/01/2020 ici-->
                  <!--<input type="text" name="category" value="" placeholder="{{ entry_category }}" id="input-category" class="pts-form-control" />-->
                  <!--<span style="color:red">Product Categories: {{ sizeofproductcategories }}</span><br />-->
                  
                  <!--<span style="color:red">Parent: {{ sizeofparent }}</span><br />-->
                  <select id="input-category" class="pts-form-control">

                      {% for product_category in categorydetail %}
                        <!--<span style="color:red">VALUES: {{ product_category.category_id }} : {{ product_category.name }}</span><br />-->
                      <option value=" {{ product_category.category_id }} ">{{ product_category.name }}</option>
                      {% endfor %}
                  </select>
                  <!--<span style="color:red">Categories: {{ sizeofcategories }}</span><br />-->
                  <!--end of new code-->
                  <span id="productcategory_error"></span>
                  <div id="product-category" class="well well-sm" style="height: 150px; overflow: auto;">
                   {% for product_category in product_categories %}
                        <div id="product-category{{ product_category.category_id }}"><i class="fa fa-minus-circle"></i> {{ product_category.name }}
                          <input type="hidden" name="product_category[]" value="{{ product_category.category_id }}" />
                        </div>
                   {% endfor %}
                  </div>
                </div>
              </div>
			   {% else %}
			    <div class="pts-form-group pts-category-dropdown">
                <label class="pts-col-sm-2 pts-control-label" for="input-category"><span data-toggle="tooltip" title="{{ help_category }}">{{ entry_categoryy }}</span></label>			 
                 <div class="pts-col-sm-10">
                     
                  <select  id="input-category" class="pts-form-control">
                    <option value="">{{ entry_select_category }}</option>
					{% for product_category in product_categories  %}
                    <option value="{{ product_category.category_id }}" {% if parent %}  {% if parent.parent_id == product_category.category_id %} selected="selected" {% endif %}{% endif %} >{{ product_category.name }}</option>							
                    {% endfor %}
                  </select>
                </div>						
              </div>
			  <!--Subcategory-->
			  <div class="pts-form-group">               
			    <label class="pts-col-sm-2 pts-control-label" for="sub-input-category"><span data-toggle="tooltip" title="{{ help_category }}">{{ sub_category }}</span></label>					
                <div class="pts-col-sm-10">
                    
                    <select name="product_category[]" id="sub-input-category" class="pts-form-control">
        			  {% if childCats %}						 
        			    {% for product_category1 in childCats %}                            
                            <option value="{{ product_category1.category_id }}" {% if product_categoryy %}  {% if product_categoryy == product_category1.category_id %} selected="selected" {% endif %}{% endif %} >{{ product_category1.name }}</option>				
                        {% endfor %}
        			  {% else %}							
        				<option value="">{{ none }}</option>
        			  {% endif %}
                    </select>
                </div>					 
              </div>
			<!--Subcategory-->
			   {% endif %}	

			  <!--Store-->
             <div class="pts-form-group">
               <label class="pts-col-sm-2 pts-control-label"  style="display:none">{{ entry_store }}</label>
                <div class="pts-col-sm-10">
                  <div class="well well-sm" style="height: 150px; overflow: auto;display:none;"> {% for store in stores %}
                    <div class="checkbox">
                      <label> {% if store.store_id in product_store %}
                        <input type="checkbox" name="product_store[]"   value="{{ store.store_id }}" checked="checked" />
                        {{ store.name }}
                        {% else %}
                        <input type="checkbox" name="product_store[]"   value="{{ store.store_id }}" />
                        {{ store.name }}
                        {% endif %} </label>
                    </div>
                    {% endfor %}</div>
                </div>
              </div>
		    <!--Price-->		 
			 <div class="pts-form-group">
                <label class="pts-col-sm-2 pts-control-label" for="input-price">{{ entry_price }}</label>
                <div class="pts-col-sm-10">
                  <input type="text" name="price" value="{{ price }}" placeholder="{{ entry_price }}" id="input-price" class="pts-form-control" />
                </div>
            </div>   
         	<!--Image tab-->
		 <div class="pts-form-group">	
            <label class="pts-col-sm-2 pts-control-label" for="input-price"><span data-toggle="tooltip" title="{{ help_product_image }}">{{ entry_image }}</span></label>	
			            
			<div class="pts-tab-pane pts-col-md-10 pts-col-md-offset-2 col-md-offset-2" style="padding:0; margin-top:-25px" id="tab-image">             
			  <div class="pts-table-responsive">
                <table class="pts-table pts-table-striped pts-table-bordered pts-table-hover pts-left-icon">
                  
                  <tbody>
                    <tr>
                      <td class="pts-text-left"><a href="" id="thumb-image" data-toggle="image" class="img-thumbnail"><img src="{{ thumb }}" alt="" title="" data-placeholder="{{ placeholder }}" /></a>
                        <input type="hidden" name="image" value="{{ image }}" id="input-image" /></td>
                    </tr>
                  </tbody>
                </table>
              </div>
               <div class="pts-table-responsive">
                <table id="images" class="pts-table pts-table-striped pts-table-bordered pts-table-hover pts-left-icon">
                  <thead>
                    <tr>
                      <td class="pts-text-left">{{ entry_additional_image }}</td>
                      <td class="pts-text-right">{{ entry_sort_order }}</td>
                      <td></td>
                    </tr>
                  </thead>
                  <tbody>
                  
                  {% set image_row = 0 %}
                  {% for product_image in product_images %}
                  <tr id="image-pts-row{{ image_row }}">
                    <td class="pts-text-left"><a href="" id="thumb-image{{ image_row }}" data-toggle="image" class="img-thumbnail"><img src="{{ product_image.thumb }}" alt="" title="" data-placeholder="{{ placeholder }}" /></a>
                      <input type="hidden" name="product_image[{{ image_row }}][image]" value="{{ product_image.image }}" id="input-image{{ image_row }}" /></td>
                    <td class="pts-text-right"><input type="text" name="product_image[{{ image_row }}][sort_order]" value="{{ product_image.sort_order }}" placeholder="{{ entry_sort_order }}" class="pts-form-control" /></td>
                    <td class="pts-text-left"><button type="button" onclick="$('#image-pts-row{{ image_row }}').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="pts-btn pts-btn-danger"><i class="fa fa-minus-circle"></i></button></td>
                  </tr>
                  {% set image_row = image_row + 1 %}
                  {% endfor %}
                    </tbody>
                  
                  <tfoot>
                    <tr>
                      <td colspan="2"></td>
                      <td class="pts-text-left"><button type="button" onclick="addImage();" data-toggle="tooltip" title="{{ button_image_add }}" class="pts-btn pts-btn-primary"><i class="fa fa-plus-circle"></i></button></td>
                    </tr>
                  </tfoot>
                </table>
              </div>
            </div> 
			 </div> 
			</div>
	   <!--Data Tab-->	  
       <div class="pts-tab-pane" id="tab-data">	          
			   <ul class="pts-nav pts-nav-tabs" id="language">
				<input type="hidden" name="seller_name" value="{{ seller_name }}">
				{% for language in languages %}
                <li class="{{ language.activetab }}"><a href="#languagedata{{ language.language_id }}" data-toggle="tab"><img src="catalog/language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /> {{ language.name }}</a></li>
                {% endfor %}
              </ul>    
			 <div class="pts-form-group ">
                <label class="pts-col-sm-2 pts-control-label" for="input-model"><span data-toggle="tooltip" title="{{ help_model }}">{{ entry_model }}</span></label>
                <div class="pts-col-sm-10">
                  <input type="text" name="model" value="{{ model }}" placeholder="{{ entry_model }}" id="input-model" class="pts-form-control" />
                </div>  
              </div>
           	  <!--/////// category featured and featured product /////////-->
 			<!--is_category_featured-->
			{% if module_purpletree_multivendor_subscription_plans is defined and module_purpletree_multivendor_subscription_plans == 1 %} 
			<div class="pts-form-group">
				<label class="pts-col-sm-2 pts-control-label" for="input-product_plan_id">{{ text_assign_sub_plan }}</label>
				<div class="pts-col-sm-10">
				<select name="product_plan_id" id="input-product_plan_id" class="pts-form-control">				
				{% if product_plan_info is not empty %} 
				{% for plans in product_plan_info %}				
				<option value="{{ plans.plan_id }}" {% if product_plan_id == plans.plan_id %} selected {% endif %} >{{ plans.plan_name }}</option>
				{% endfor %} {% else %} 
				<option value="" selected >{{ 'Plan Not Found' }}</option>
				{% endif %} 
				</select>
				</div>
			</div>
		  <div class="pts-form-group">
                <label class="pts-col-sm-2 pts-control-label" for="input-featured-product-plan-id">{{ entry_subscription_featured_product }}</label>
                <div class="pts-col-sm-10">
				
				<select name="featured_product_plan_id" id="input-featured-product-plan-id" class="pts-form-control">
				<option value="0" >{{ text_not_applicable }}</option>
				{% if product_plan_info is not empty %} 
				{% for plans in product_plan_info %}
								
				<option value="{{ plans.plan_id }}" {% if featured_product_plan_id == plans.plan_id %} selected {% endif %} >{{ plans.plan_name }}</option>
				{% endfor %} {% else %} 
				
				{% endif %}				
				</select>
				{% if error_featured_product_plan_id is not empty %} 
                      <div class="text-danger">{{ error_featured_product_plan_id }}</div>
                      {% endif %} 
                </div>
          </div>
		   <div class="pts-form-group">
                <label class="pts-col-sm-2 pts-control-label" for="input-category-featured-product-plan-id">{{ entry_subscription_category_featured_product }}</label>
                <div class="pts-col-sm-10">
				<select name="category_featured_product_plan_id" id="input-category-featured-product-plan-id" class="pts-form-control">
				{% if product_plan_info is not empty %} 
				{% for plans in product_plan_info %}
				<option value="0">{{ text_not_applicable }}</option>
				<option value="{{ plans.plan_id }}" {% if category_featured_product_plan_id == plans.plan_id %} selected {% endif %} >{{ plans.plan_name }}</option>
				{% endfor %} {% else %} 
				
				{% endif %}				
				</select>
				{% if error_category_featured_product_plan_id is not empty %} 
                      <div class="text-danger">{{ error_category_featured_product_plan_id }}</div>
                {% endif %} 
                </div>
          </div>
		  {% else %} 
		    <div class="pts-form-group">
                <label class="pts-col-sm-2 pts-control-label" for="input-is_featured">{{ entry_featured_product }}</label>
                <div class="pts-col-sm-10">
				
				<select name="is_featured" id="input-is_featured" class="pts-form-control">
				{% if is_featured %} 
				<option value="1" selected >{{ text_yes }}</option>
				<option value="0">{{ text_no }}</option>
				{% else %} 
				<option value="1"  >{{ text_yes }}</option>
				<option value="0" selected>{{ text_no }}</option>
				{% endif %} 
				</select>
                </div>
            </div>
			<div class="pts-form-group">
                <label class="pts-col-sm-2 pts-control-label" for="input-is_category_featured">{{ entry_category_featured_product }}</label>
                <div class="pts-col-sm-10">
				
				<select name="is_category_featured" id="input-is_category_featured" class="pts-form-control">
				{% if is_category_featured %} 
				<option value="1" selected >{{ text_yes }}</option>
				<option value="0">{{ text_no }}</option>
				{% else %} 
				<option value="1"  >{{ text_yes }}</option>
				<option value="0" selected>{{ text_no }}</option>
				{% endif %} 
				</select>
                </div>
            </div>
			  {% endif %} 
			  <!--is_category_featured-->		
			  <div class="pts-form-group">
                <label class="pts-col-sm-2 pts-control-label" for="input-quantity"><span data-toggle="tooltip" title="{{ help_quantity }}">{{ entry_quantity }}</span></label>
                <div class="pts-col-sm-10">
                  <input type="text" name="quantity" value="{{ quantity }}" placeholder="{{ entry_quantity }}" id="input-quantity" class="pts-form-control" />
                </div>
              </div>
               <div class="pts-form-group">
                <label class="pts-col-sm-2 pts-control-label" for="input-minimum"><span data-toggle="tooltip" title="{{ help_minimum }}">{{ entry_minimum }}</span></label>
                <div class="pts-col-sm-10">
                  <input type="text" name="minimum" value="{{ minimum }}" placeholder="{{ entry_minimum }}" id="input-minimum" class="pts-form-control" />
                </div>
              </div>
			  <div class="pts-form-group">
			  <label class="pts-col-sm-2 pts-control-label" for="tab-special">{{ tab_special }}</label>
			 <div class="tab-pane pts-col-sm-10" style="padding:0; margin-bottom:10px" id="tab-special">
              <div class="pts-table-responsive">
                <table id="special" class="pts-table pts-table-striped pts-table-bordered pts-table-hover">
                  <thead>
                    <tr>
                      <td class="pts-text-left">{{ entry_customer_group }}</td>
                      <td class="pts-text-right">{{ entry_priority }}</td>
                      {% if metals_product == 1 %}                      
					  <td class="pts-text-right"><span id="priExtr">{{ entry_price_extra }}<span id="priExtrTypeFxd">{{ text_fixed }}</span>
                       <span id="priExtrTypePercent">{{ text_percentage }}</span></span><span id="pri">{{ entry_price }}</span></td>
					   {% else %}
					   <td class="pts-text-right">{{ entry_price }}</td>
					   {% endif %}
                      <td class="pts-text-left">{{ entry_date_start }}</td>
                      <td class="pts-text-left">{{ entry_date_end }}</td>
                      <td></td>
                    </tr>
                  </thead>
                  <tbody>                  
                  {% set special_row = 0 %}
                  {% for product_special in product_specials %}
                  <tr id="special-pts-row{{ special_row }}">
                    <td class="pts-text-left"><select name="product_special[{{ special_row }}][customer_group_id]" class="pts-form-control">
                          {% for customer_group in customer_groups %}
                          {% if customer_group.customer_group_id == product_special.customer_group_id %}                        
                        <option value="{{ customer_group.customer_group_id }}" selected="selected">{{ customer_group.name }}</option>                        
                          {% else %}
						  <option value="{{ customer_group.customer_group_id }}">{{ customer_group.name }}</option>                       
                          {% endif %}
                          {% endfor %}                      
                      </select></td>
                    <td class="pts-text-right"><input type="text" name="product_special[{{ special_row }}][priority]" value="{{ product_special.priority }}" placeholder="{{ entry_priority }}" class="pts-form-control" /></td>
                    <td class="pts-text-right"><input type="text" name="product_special[{{ special_row }}][price]" value="{{ product_special.price }}" placeholder="{{ entry_price }}" class="pts-form-control" /></td>
                    <td class="pts-text-left" style="width: 20%;"><div class="pts-input-group date d-flex">
                        <input type="text" name="product_special[{{ special_row }}][date_start]" value="{{ product_special.date_start }}" placeholder="{{ entry_date_start }}" data-date-format="YYYY-MM-DD" class="pts-form-control" />
                        <span class="pts-input-group-pts-btn">
                        <button class="pts-btn pts-btn-default" type="button"><i class="fa fa-calendar"></i></button>
                        </span></div></td>
                    <td class="pts-text-left" style="width: 20%;"><div class="pts-input-group date d-flex">
                        <input type="text" name="product_special[{{ special_row }}][date_end]" value="{{ product_special.date_end }}" placeholder="{{ entry_date_end }}" data-date-format="YYYY-MM-DD" class="pts-form-control" />
                        <span class="pts-input-group-pts-btn">
                        <button class="pts-btn pts-btn-default" type="button"><i class="fa fa-calendar"></i></button>
                        </span></div></td>
                    <td class="pts-text-left"><button type="button" onclick="$('#special-pts-row{{ special_row }}').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="pts-btn pts-btn-danger"><i class="fa fa-minus-circle"></i></button></td>
                  </tr>
                  {% set special_row = special_row + 1 %}
                  {% endfor %}
                    </tbody>                  
                  <tfoot>
                    <tr>
                      <td colspan="5"></td>
                      <td class="pts-text-left"><button type="button" onclick="addSpecial();" data-toggle="tooltip" title="{{ button_special_add }}" class="pts-btn pts-btn-primary"><i class="fa fa-plus-circle"></i></button></td>
                    </tr>
                  </tfoot>
                </table>
              </div>
            </div>	
          </div>	  			
            <div class="pts-form-group">
                <label class="pts-col-sm-2 pts-control-label" for="input-tax-class">{{ entry_tax_class }}</label>
                <div class="pts-col-sm-10">
                  <select name="tax_class_id" id="input-tax-class" class="pts-form-control">
                    <option value="0">{{ text_none }}</option>                   
                    {% for tax_class in tax_classes %}
                    {% if tax_class.tax_class_id == tax_class_id %}                    
                    <option value="{{ tax_class.tax_class_id }}" selected="selected">{{ tax_class.title }}</option>                   
                    {% else %}                    
                    <option value="{{ tax_class.tax_class_id }}">{{ tax_class.title }}</option>                  
                    {% endif %}
                    {% endfor %}
					</select>
                </div>
              </div>		 
                <div class="pts-form-group">
                <label class="pts-col-sm-2 pts-control-label" for="input-subtract">{{ entry_subtract }}</label>
                <div class="pts-col-sm-10">
                  <select name="subtract" id="input-subtract" class="pts-form-control">      {% if subtract %}                    
                    <option value="1" selected="selected">{{ text_yes }}</option>
                    <option value="0">{{ text_no }}</option>                  
                    {% else %}
					<option value="1">{{ text_yes }}</option>
                    <option value="0" selected="selected">{{ text_no }}</option>
					{% endif %}					           
                  </select>
                </div>
              </div>
              <div class="pts-form-group">
                <label class="pts-col-sm-2 pts-control-label" for="input-stock-status"><span data-toggle="tooltip" title="{{ help_stock_status }}">{{ entry_stock_status }}</span></label>
                <div class="pts-col-sm-10">
                  <select name="stock_status_id" id="input-stock-status" class="pts-form-control">                  
                    {% for stock_status in stock_statuses %}
                    {% if stock_status.stock_status_id == stock_status_id %}                    
                    <option value="{{ stock_status.stock_status_id }}" selected="selected">{{ stock_status.name }}</option>             
                    {% else %}                   
                    <option value="{{ stock_status.stock_status_id }}">{{ stock_status.name }}</option>                 
                    {% endif %}
                    {% endfor %}                  
                  </select>
                </div>
              </div>
               <div class="pts-form-group">
                <label class="pts-col-sm-2 pts-control-label">{{ entry_shipping }}</label>
                <div class="pts-col-sm-10">
                  <label class="radio-inline"> {% if shipping %}
                    <input type="radio" name="shipping" value="1" checked="checked" />
                    {{ text_yes }}
                    {% else %}
                    <input type="radio" name="shipping" value="1" />
                    {{ text_yes }}
                    {% endif %} </label>
                  <label class="radio-inline"> {% if not shipping %}
                    <input type="radio" name="shipping" value="0" checked="checked" />
                    {{ text_no }}
                    {% else %}
                    <input type="radio" name="shipping" value="0" />
                    {{ text_no }}
                    {% endif %} </label>
                </div>
              </div>
              <div class="pts-tab-pane" id="tab-seo">
              <div class="alert alert-info"><i class="fa fa-info-circle"></i> {{ text_keyword }}</div>            
              <div class="pts-table-responsive">
                <table class="pts-table pts-table-bordered pts-table-hover">
                  <thead>
                    <tr>
                      <td class="pts-text-left">{{ entry_store }}</td>
		      <td class="pts-text-left">{{ entry_keyword }}</td>
                    </tr>
                  </thead>
                  <tbody>
                  {% for store in stores %}
                  <tr>
                    <td class="pts-text-left">{{ store.name }}</td>
                    <td class="pts-text-left">{% for language in languages %}
                      <div class="pts-input-group"><span class="pts-input-group-addon"><img src="catalog/language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /></span>
                        <input type="text" name="product_seo_url[{{ store.store_id }}][{{ language.language_id }}]" value="{% if product_seo_url[store.store_id][language.language_id] %}{{ product_seo_url[store.store_id][language.language_id] }}{% endif %}" placeholder="{{ entry_keyword }}" class="pts-form-control" />
                      </div>
                      {% if error_keyword[store.store_id][language.language_id] %}
                      <div class="text-danger">{{ error_keyword[store.store_id][language.language_id] }}</div>
                      {% endif %} 
                      {% endfor %}</td>
                  </tr>
                  {% endfor %}
                    </tbody>
                  
                </table>
              </div>
            </div>
			  <!--Meta tags-->			  
              <div class="pts-tab-content">
            {% for language in languages %}	   
				  <div class="pts-tab-pane {{ language.activetab }}" id="languagedata{{ language.language_id }}">          
					<div class="pts-form-group">
                    <label class="pts-col-sm-2 pts-control-label" for="input-meta-title{{ language.language_id }}">{{ entry_meta_title }}</label>
                    <div class="pts-col-sm-10">
                      <input type="text" name="product_description[{{ language.language_id }}][meta_title]" value="{{ product_description[language.language_id] ? product_description[language.language_id].meta_title }}" placeholder="{{ entry_meta_title }}" id="input-meta-title{{ language.language_id }}" class="pts-form-control" />
                     </div>
                  </div>                  
                   <div class="pts-form-group">
                    <label class="pts-col-sm-2 pts-control-label" for="input-meta-description{{ language.language_id }}">{{ entry_meta_description }}</label>
                    <div class="pts-col-sm-10">
                      <textarea name="product_description[{{ language.language_id }}][meta_description]" rows="5" placeholder="{{ entry_meta_description }}" id="input-meta-description{{ language.language_id }}" class="pts-form-control">{{ product_description[language.language_id] ? product_description[language.language_id].meta_description }}</textarea>
                    </div>
                  </div>
                  <div class="pts-form-group">
                    <label class="pts-col-sm-2 pts-control-label" for="input-meta-keyword{{ language.language_id }}">{{ entry_meta_keyword }}</label>
                    <div class="pts-col-sm-10">
                      <textarea name="product_description[{{ language.language_id }}][meta_keyword]" rows="5" placeholder="{{ entry_meta_keyword }}" id="input-meta-keyword{{ language.language_id }}" class="pts-form-control">{{ product_description[language.language_id] ? product_description[language.language_id].meta_keyword }}</textarea>
                    </div>
                  </div>
			  </div>		
			{% endfor %}
			  </div>
			 <!--End Meta tags--> 
              <div class="pts-form-group">
                <label class="pts-col-sm-2 pts-control-label" for="input-date-available">{{ entry_date_available }}</label>
                <div class="pts-col-sm-3">
                  <div class="pts-input-group date d-flex">
                    <input type="text" name="date_available" value="{{ date_available }}" placeholder="{{ entry_date_available }}" data-date-format="YYYY-MM-DD" id="input-date-available" class="pts-form-control" />
                    <span class="pts-input-group-pts-btn">
                    <button class="pts-btn pts-btn-default" type="button"><i class="fa fa-calendar"></i></button>
                    </span></div>
                </div>
              </div>
              <div class="pts-form-group">
                <label class="pts-col-sm-2 pts-control-label" for="input-length">{{ entry_dimension }}</label>
                <div class="pts-col-sm-10">
                  <div class="pts-row">
                    <div class="pts-col-sm-4">
                      <input type="text" name="length" value="{{ length }}" placeholder="{{ entry_length }}" id="input-length" class="pts-form-control" />
                    </div>
                    <div class="pts-col-sm-4">
                      <input type="text" name="width" value="{{ width }}" placeholder="{{ entry_width }}" id="input-width" class="pts-form-control" />
                    </div>
                    <div class="pts-col-sm-4">
                      <input type="text" name="height" value="{{ height }}" placeholder="{{ entry_height }}" id="input-height" class="pts-form-control" />
                    </div>
                  </div>
                </div>
              </div>
               <div class="pts-form-group">
                <label class="pts-col-sm-2 pts-control-label" for="input-length-class">{{ entry_length_class }}</label>
                <div class="pts-col-sm-10">
                  <select name="length_class_id" id="input-length-class" class="pts-form-control">          
                    {% for length_class in length_classes %}
                    {% if length_class.length_class_id == length_class_id %}
					<option value="{{ length_class.length_class_id }}" selected="selected">{{ length_class.title }}</option>   
                    {% else %}                    
                    <option value="{{ length_class.length_class_id }}">{{ length_class.title }}
					</option>                 
                    {% endif %}
                    {% endfor %}                  
                  </select>
                </div>
              </div>
             <div class="pts-form-group">
                <label class="pts-col-sm-2 pts-control-label" for="input-weight">{{ entry_weight }}</label>
                <div class="pts-col-sm-10">
                  <input type="text" name="weight" value="{{ weight }}" placeholder="{{ entry_weight }}" id="input-weight" class="pts-form-control" />
				  {% if error_weight %}
                  <div class="text-danger">{{ error_weight }}</div>
                  {% endif %}
                </div>
              </div>
               <div class="pts-form-group">
                <label class="pts-col-sm-2 pts-control-label" for="input-weight-class">{{ entry_weight_class }}</label>
                <div class="pts-col-sm-10">
                  <select name="weight_class_id" id="input-weight-class" class="pts-form-control">                   
                    {% for weight_class in weight_classes %}
                    {% if weight_class.weight_class_id == weight_class_id %}
                    <option value="{{ weight_class.weight_class_id }}" selected="selected">{{ weight_class.title }}</option>                 
                    {% else %}                    
                    <option value="{{ weight_class.weight_class_id }}">{{ weight_class.title }}</option>                   
                    {% endif %}
                    {% endfor %}                  
                  </select>
                </div>
              </div>
               <div class="pts-form-group">
                <label class="pts-col-sm-2 pts-control-label" for="input-status">{{ entry_status }}</label>
                <div class="pts-col-sm-10">
                  <select name="status" id="input-status" class="pts-form-control">           
                    {% if status %}                    
                    <option value="1" selected="selected">{{ text_enabled }}</option>
                    <option value="0">{{ text_disabled }}</option>              
                    {% else %}
					<option value="1">{{ text_enabled }}</option>
                    <option value="0" selected="selected">{{ text_disabled }}</option>        {% endif %}                  
                  </select>
                </div>
              </div>
			   
			   </div>
			 </div>
		   <div class="buttons clearfix" style="clear: both;">
          <div class="pts-pull-left"><a href="{{ back }}" class="pts-btn pts-btn-default">{{ button_back }}</a></div>
          <div class="pts-pull-right">
            <input type="submit" value="{{ button_continue }}" class="pts-btn pts-btn-primary" />
          </div>
        </div>
        </form>
		{{ content_bottom }}</div>
			{{ column_right }}</div>
</div>
<script src="https://cdn.tiny.cloud/1/o2cbuyu456j0g5yuuczy5dohdxhs77oh2qolyp8gjz27e77a/tinymce/5/tinymce.min.js" referrerpolicy="origin"></script>
  <script src="https://cdn.ckeditor.com/4.13.1/standard-all/ckeditor.js"></script>

    <script>
        CKEDITOR.replace('input-description1');
    </script>
  <script>
  {#  tinymce.init({#}
  {#  selector: '#input-description1',#}
  {#    plugins: 'a11ychecker advcode casechange formatpainter linkchecker lists checklist media mediaembed pageembed permanentpen powerpaste table advtable tinycomments tinydrive tinymcespellchecker',#}
  {#    toolbar: 'a11ycheck addcomment showcomments casechange checklist code formatpainter insertfile pageembed permanentpen table',#}
  {#    toolbar_drawer: 'floating',#}
  {#    tinycomments_mode: 'embedded',#}
  {#    tinycomments_author: 'Author name',#}
  {#  });#}
  {#</script>#}
  {#<script>#}
  {#    tinymce.init({#}
  {#      selector: '#input-description1',#}
  {#      toolbar: "image media",#}
  {#      plugins: "image imagetools media"#}
  {#      menubar: "insert"#}
  {#    });#}
  {#  </script>#}

 <!-- <script src="catalog/view/javascript/purpletree/jquery/datetimepicker/moment/moment.min.js" type="text/javascript"></script>
<script src="catalog/view/javascript/purpletree/jquery/datetimepicker/moment/moment-with-locales.min.js" type="text/javascript"></script>
<script src="catalog/view/javascript/purpletree/jquery/datetimepicker/bootstrap-datetimepicker.min.js" type="text/javascript"></script>
<link href="catalog/view/javascript/purpletree/jquery/datetimepicker/bootstrap-datetimepicker.min.css" type="text/css" rel="stylesheet" media="screen" />
 <link href="catalog/view/javascript/purpletree/codemirror/lib/codemirror.css" rel="stylesheet" />
  <link href="catalog/view/javascript/purpletree/codemirror/theme/monokai.css" rel="stylesheet" />
  <script type="text/javascript" src="catalog/view/javascript/purpletree/codemirror/lib/codemirror.js"></script> 
  <script type="text/javascript" src="catalog/view/javascript/purpletree/codemirror/lib/xml.js"></script> 
  <script type="text/javascript" src="catalog/view/javascript/purpletree/codemirror/lib/formatting.js"></script>  -->
{% if ver=='3.1.0.0_b' %}
    <script type="text/javascript"><!--
      $('textarea[data-toggle=\'summernote\']').ckeditor();
    //--></script>
{% else %}
	<script type="text/javascript" src="catalog/view/javascript/purpletree/summernote/summernote.js"></script>
	  <link href="catalog/view/javascript/purpletree/summernote/summernote.css" rel="stylesheet" />
	  <script type="text/javascript" src="catalog/view/javascript/purpletree/summernote/summernote-image-attributes.js"></script> 
	  <script type="text/javascript" src="catalog/view/javascript/purpletree/summernote/opencart.js"></script>
{% endif %} 
 <script type="text/javascript"><!--
// Manufacturer
$('input[name=\'manufacturer\']').autocompletepts({
	'source': function(request, response) {
		$.ajax({
			url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/manufacturer&filter_name=' +  encodeURIComponent(request),
			dataType: 'json',
			success: function(json) {
				json.unshift({
					manufacturer_id: 0,
					name: '{{ text_none }}'
				});

				response($.map(json, function(item) {
					return {
						label: item['name'],
						value: item['manufacturer_id']
					}
				}));
			}
		});
	},
	'select': function(item) {
		$('input[name=\'manufacturer\']').val(item['label']);
		$('input[name=\'manufacturer_id\']').val(item['value']);
	}
});

// Category
$('input[name=\'category\']').autocompletepts({
	'source': function(request, response) {
		$.ajax({
			url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/category&filter_name=' +  encodeURIComponent(request),
			dataType: 'json',
			success: function(json) {
				response($.map(json, function(item) {
					return {
						label: item['name'],
						value: item['category_id']
					}
				}));
			}
		});
	},
	'select': function(item) {
		$('input[name=\'category\']').val('');

		$('#product-category' + item['value']).remove();

		$('#product-category').append('<div id="product-category' + item['value'] + '"><i class="fa fa-minus-circle"></i> ' + item['label'] + '<input type="hidden" name="product_category[]" value="' + item['value'] + '" /></div>');
	}
});

$('#product-category').delegate('.fa-minus-circle', 'click', function() {
	$(this).parent().remove();
});

//added on 09/01/2020 ici
document.getElementById("input-category").onchange = function(event){
    var pcategory = document.getElementById("product-category");
    var category_id = event.target.value;
    var categorylabel = event.target.options[event.target.selectedIndex].innerHTML;
    pcategory.innerHTML += "<div id='product-category" + category_id + "'><i class='fa fa-minus-circle'></i>" + categorylabel + "<input type='hidden' name='product_category[]' value='" + category_id + "' /></div>";
}

// Filter
$('input[name=\'filter\']').autocompletepts({
	'source': function(request, response) {
		$.ajax({
			url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/filter&filter_name=' +  encodeURIComponent(request),
			dataType: 'json',
			success: function(json) {
				response($.map(json, function(item) {
					return {
						label: item['name'],
						value: item['filter_id']
					}
				}));
			}
		});
	},
	'select': function(item) {
		$('input[name=\'filter\']').val('');

		$('#product-filter' + item['value']).remove();

		$('#product-filter').append('<div id="product-filter' + item['value'] + '"><i class="fa fa-minus-circle"></i> ' + item['label'] + '<input type="hidden" name="product_filter[]" value="' + item['value'] + '" /></div>');
	}
});

$('#product-filter').delegate('.fa-minus-circle', 'click', function() {
	$(this).parent().remove();
});

// Downloads
$('input[name=\'download\']').autocompletepts({
	'source': function(request, response) {
		$.ajax({
			url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/download&filter_name=' +  encodeURIComponent(request),
			dataType: 'json',
			success: function(json) {
				response($.map(json, function(item) {
					return {
						label: item['name'],
						value: item['download_id']
					}
				}));
			}
		});
	},
	'select': function(item) {
		$('input[name=\'download\']').val('');

		$('#product-download' + item['value']).remove();

		$('#product-download').append('<div id="product-download' + item['value'] + '"><i class="fa fa-minus-circle"></i> ' + item['label'] + '<input type="hidden" name="product_download[]" value="' + item['value'] + '" /></div>');
	}
});

$('#product-download').delegate('.fa-minus-circle', 'click', function() {
	$(this).parent().remove();
});

// Related
$('input[name=\'related\']').autocompletepts({
	'source': function(request, response) {
		$.ajax({
			url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/product&filter_name=' +  encodeURIComponent(request)+'}',
			dataType: 'json',
			success: function(json) {
				response($.map(json, function(item) {
					return {
						label: item['name'],
						value: item['product_id']
					}
				}));
			}
		});
	},
	'select': function(item) {
		$('input[name=\'related\']').val('');

		$('#product-related' + item['value']).remove();

		$('#product-related').append('<div id="product-related' + item['value'] + '"><i class="fa fa-minus-circle"></i> ' + item['label'] + '<input type="hidden" name="product_related[]" value="' + item['value'] + '" /></div>');
	}
});

$('#product-related').delegate('.fa-minus-circle', 'click', function() {
	$(this).parent().remove();
});
//--></script>
  <script type="text/javascript"><!--
  var attribute_row = '';
  {% if attribute_row %}
var attribute_row = {{ attribute_row }};
{% endif %}
function addAttribute() {
    html  = '<tr id="attribute-row' + attribute_row + '">';
	html += '  <td class="pts-text-left" style="width: 20%;"><input type="text" name="product_attribute[' + attribute_row + '][name]" value="" placeholder="{{ entry_attribute }}" class="pts-form-control" /><input type="hidden" name="product_attribute[' + attribute_row + '][attribute_id]" value="" /></td>';
	html += '  <td class="pts-text-left">';
	{% for language in languages %}
	html += '<div class="pts-input-group"><span class="pts-input-group-addon"><img src="catalog/language/{{ language.code }}/{{ language.code }}.png" title="{{ language.name }}" /></span><textarea name="product_attribute[' + attribute_row + '][product_attribute_description][{{ language.language_id }}][text]" rows="5" placeholder="{{ entry_text }}" class="pts-form-control"></textarea></div>';
    {% endfor %}
	html += '  </td>';
	html += '  <td class="pts-text-right"><button type="button" onclick="$(\'#attribute-pts-row' + attribute_row + '\').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="pts-btn pts-btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
    html += '</tr>';

	$('#attribute tbody').append(html);

	attributeautocomplete(attribute_row);

	attribute_row++;
}

function attributeautocomplete(attribute_row) {
	$('input[name=\'product_attribute[' + attribute_row + '][name]\']').autocompletepts({
		'source': function(request, response) {
			$.ajax({
				url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/attribute&filter_name=' +  encodeURIComponent(request),
				dataType: 'json',
				success: function(json) {
					response($.map(json, function(item) {
						return {
							category: item.attribute_group,
							label: item.name,
							value: item.attribute_id
						}
					}));
				}
			});
		},
		'select': function(item) {
			$('input[name=\'product_attribute[' + attribute_row + '][name]\']').val(item['label']);
			$('input[name=\'product_attribute[' + attribute_row + '][attribute_id]\']').val(item['value']);
		}
	});
}


$('#attribute tbody tr').each(function(index, element) {
	attributeautocomplete(index);
});
//--></script>
  <script type="text/javascript"><!--
var option_row = {{ option_row }};

$('input[name=\'option\']').autocompletepts({
	'source': function(request, response) {
		$.ajax({
			url: 'index.php?route=extension/account/purpletree_multivendor/sellerproduct/option&filter_name=' +  encodeURIComponent(request),
			dataType: 'json',
			success: function(json) {
				response($.map(json, function(item) {
					return {
						category: item['category'],
						label: item['name'],
						value: item['option_id'],
						type: item['type'],
						option_value: item['option_value']
					}
				}));
			}
		});
	},
	'select': function(item) {
		html  = '<div class="pts-tab-pane" id="tab-option' + option_row + '">';
		html += '	<input type="hidden" name="product_option[' + option_row + '][product_option_id]" value="" />';
		html += '	<input type="hidden" name="product_option[' + option_row + '][name]" value="' + item['label'] + '" />';
		html += '	<input type="hidden" name="product_option[' + option_row + '][option_id]" value="' + item['value'] + '" />';
		html += '	<input type="hidden" name="product_option[' + option_row + '][type]" value="' + item['type'] + '" />';

		html += '	<div class="pts-form-group">';
		html += '	  <label class="pts-col-sm-2 pts-control-label" for="input-required' + option_row + '">{{ entry_required }}</label>';
		html += '	  <div class="pts-col-sm-10"><select name="product_option[' + option_row + '][required]" id="input-required' + option_row + '" class="pts-form-control">';
		html += '	      <option value="1">{{ text_yes }}</option>';
		html += '	      <option value="0">{{ text_no }}</option>';
		html += '	  </select></div>';
		html += '	</div>';

		if (item['type'] == 'text') {
			html += '	<div class="pts-form-group">';
			html += '	  <label class="pts-col-sm-2 pts-control-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
			html += '	  <div class="pts-col-sm-10"><input type="text" name="product_option[' + option_row + '][value]" value="" placeholder="{{ entry_option_value }}" id="input-value' + option_row + '" class="pts-form-control" /></div>';
			html += '	</div>';
		}

		if (item['type'] == 'textarea') {
			html += '	<div class="pts-form-group">';
			html += '	  <label class="pts-col-sm-2 pts-control-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
			html += '	  <div class="pts-col-sm-10"><textarea name="product_option[' + option_row + '][value]" rows="5" placeholder="{{ entry_option_value }}" id="input-value' + option_row + '" class="pts-form-control"></textarea></div>';
			html += '	</div>';
		}

		if (item['type'] == 'file') {
			html += '	<div class="pts-form-group" style="display: none;">';
			html += '	  <label class="pts-col-sm-2 pts-control-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
			html += '	  <div class="pts-col-sm-10"><input type="text" name="product_option[' + option_row + '][value]" value="" placeholder="{{ entry_option_value }}" id="input-value' + option_row + '" class="pts-form-control" /></div>';
			html += '	</div>';
		}

		if (item['type'] == 'date') {
			html += '	<div class="pts-form-group">';
			html += '	  <label class="pts-col-sm-2 pts-control-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
			html += '	  <div class="pts-col-sm-3"><div class="pts-input-group date d-flex"><input type="text" name="product_option[' + option_row + '][value]" value="" placeholder="{{ entry_option_value }}" data-date-format="YYYY-MM-DD" id="input-value' + option_row + '" class="pts-form-control" /><span class="pts-input-group-pts-btn"><button type="button" class="pts-btn pts-btn-default"><i class="fa fa-calendar"></i></button></span></div></div>';
			html += '	</div>';
		}

		if (item['type'] == 'time') {
			html += '	<div class="pts-form-group">';
			html += '	  <label class="pts-col-sm-2 pts-control-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
			html += '	  <div class="pts-col-sm-10"><div class="pts-input-group time"><input type="text" name="product_option[' + option_row + '][value]" value="" placeholder="{{ entry_option_value }}" data-date-format="HH:mm" id="input-value' + option_row + '" class="pts-form-control" /><span class="pts-input-group-pts-btn"><button type="button" class="pts-btn pts-btn-default"><i class="fa fa-calendar"></i></button></span></div></div>';
			html += '	</div>';
		}

		if (item['type'] == 'datetime') {
			html += '	<div class="pts-form-group">';
			html += '	  <label class="pts-col-sm-2 pts-control-label" for="input-value' + option_row + '">{{ entry_option_value }}</label>';
			html += '	  <div class="pts-col-sm-10"><div class="pts-input-group date d-flextime"><input type="text" name="product_option[' + option_row + '][value]" value="" placeholder="{{ entry_option_value }}" data-date-format="YYYY-MM-DD HH:mm" id="input-value' + option_row + '" class="pts-form-control" /><span class="pts-input-group-pts-btn"><button type="button" class="pts-btn pts-btn-default"><i class="fa fa-calendar"></i></button></span></div></div>';
			html += '	</div>';
		}

		if (item['type'] == 'select' || item['type'] == 'radio' || item['type'] == 'checkbox' || item['type'] == 'image') {
			html += '<div class="pts-table-responsive">';
			html += '  <table id="option-value' + option_row + '" class="pts-table pts-table-striped pts-table-bordered pts-table-hover">';
			html += '  	 <thead>';
			html += '      <tr>';
			html += '        <td class="pts-text-left">{{ entry_option_value }}</td>';
			html += '        <td class="pts-text-right">{{ entry_quantity }}</td>';
			html += '        <td class="pts-text-left">{{ entry_subtract }}</td>';
			html += '        <td class="pts-text-right">{{ entry_price }}</td>';
			html += '        <td class="pts-text-right">{{ entry_option_points }}</td>';
			html += '        <td class="pts-text-right">{{ entry_weight }}</td>';
			html += '        <td></td>';
			html += '      </tr>';
			html += '  	 </thead>';
			html += '  	 <tbody>';
			html += '    </tbody>';
			html += '    <tfoot>';
			html += '      <tr>';
			html += '        <td colspan="6"></td>';
			html += '        <td class="pts-text-left"><button type="button" onclick="addOptionValue(' + option_row + ');" data-toggle="tooltip" title="{{ button_option_value_add }}" class="pts-btn pts-btn-primary"><i class="fa fa-plus-circle"></i></button></td>';
			html += '      </tr>';
			html += '    </tfoot>';
			html += '  </table>';
			html += '</div>';

            html += '  <select id="option-values' + option_row + '" style="display: none;">';

            for (i = 0; i < item['option_value'].length; i++) {
				html += '  <option value="' + item['option_value'][i]['option_value_id'] + '">' + item['option_value'][i]['name'] + '</option>';
            }

            html += '  </select>';
			html += '</div>';
		}

		$('#tab-option .pts-tab-content').append(html);

		$('#option > li:last-child').before('<li><a href="#tab-option' + option_row + '" data-toggle="tab"><i class="fa fa-minus-circle" onclick=" $(\'#option a:first\').tab(\'show\');$(\'a[href=\\\'#tab-option' + option_row + '\\\']\').parent().remove(); $(\'#tab-option' + option_row + '\').remove();"></i>' + item['label'] + '</li>');

		$('#option a[href=\'#tab-option' + option_row + '\']').tab('show');
		
		$('[data-toggle=\'tooltip\']').tooltip({
			container: 'body',
			html: true
		});

		$('.date').datetimepicker({
			pickTime: false
		});

		$('.time').datetimepicker({
			pickDate: false
		});

		$('.datetime').datetimepicker({
			pickDate: true,
			pickTime: true
		});

		option_row++;
	}
});
//--></script>
  <script type="text/javascript"><!--
var option_value_row = {{ option_value_row }};

function addOptionValue(option_row) {
	html  = '<tr id="option-value-pts-row' + option_value_row + '">';
	html += '  <td class="pts-text-left pts-product-option"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][option_value_id]" class="pts-form-control">';
	html += $('#option-values' + option_row).html();
	html += '  </select><input type="hidden" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][product_option_value_id]" value="" /></td>';
	html += '  <td class="pts-text-right pts-product-option"><input type="text" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][quantity]" value="" placeholder="{{ entry_quantity }}" class="pts-form-control" /></td>';
	html += '  <td class="pts-text-left pts-product-option"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][subtract]" class="pts-form-control">';
	html += '    <option value="1">{{ text_yes }}</option>';
	html += '    <option value="0">{{ text_no }}</option>';
	html += '  </select></td>';
	html += '  <td class="pts-text-right pts-product-option"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][price_prefix]" class="pts-form-control">';
	html += '    <option value="+">+</option>';
	html += '    <option value="-">-</option>';
	html += '  </select>';
	html += '  <input type="text" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][price]" value="" placeholder="{{ entry_price }}" class="pts-form-control" /></td>';
	html += '  <td class="pts-text-right pts-product-option"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][points_prefix]" class="pts-form-control">';
	html += '    <option value="+">+</option>';
	html += '    <option value="-">-</option>';
	html += '  </select>';
	html += '  <input type="text" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][points]" value="" placeholder="{{ entry_points }}" class="pts-form-control" /></td>';
	html += '  <td class="pts-text-right pts-product-option"><select name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][weight_prefix]" class="pts-form-control">';
	html += '    <option value="+">+</option>';
	html += '    <option value="-">-</option>';
	html += '  </select>';
	html += '  <input type="text" name="product_option[' + option_row + '][product_option_value][' + option_value_row + '][weight]" value="" placeholder="{{ entry_weight }}" class="pts-form-control" /></td>';
	html += '  <td class="pts-text-left pts-product-option"><button type="button" onclick="$(this).tooltip(\'destroy\');$(\'#option-value-pts-row' + option_value_row + '\').remove();" data-toggle="tooltip" rel="tooltip" title="{{ button_remove }}" class="pts-btn pts-btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
	html += '</tr>';

	$('#option-value' + option_row + ' tbody').append(html);
	$('[rel=tooltip]').tooltip();

	option_value_row++;
}
//--></script>
  <script type="text/javascript"><!--
var discount_row = {{ discount_row }};

function addDiscount() {
	html  = '<tr id="discount-pts-row' + discount_row + '">';
    html += '  <td class="pts-text-left"><select name="product_discount[' + discount_row + '][customer_group_id]" class="pts-form-control">';
    {% for customer_group in customer_groups %}
    html += '    <option value="{{ customer_group.customer_group_id }}">{{ customer_group.name|escape('js') }}</option>';
    {% endfor %}
    html += '  </select></td>';
    html += '  <td class="pts-text-right"><input type="text" name="product_discount[' + discount_row + '][quantity]" value="" placeholder="{{ entry_quantity }}" class="pts-form-control" /></td>';
    html += '  <td class="pts-text-right"><input type="text" name="product_discount[' + discount_row + '][priority]" value="" placeholder="{{ entry_priority }}" class="pts-form-control" /></td>';
	html += '  <td class="pts-text-right"><input type="text" name="product_discount[' + discount_row + '][price]" value="" placeholder="{{ entry_price }}" class="pts-form-control" /></td>';
    html += '  <td class="pts-text-left" style="width: 20%;"><div class="pts-input-group date d-flex"><input type="text" name="product_discount[' + discount_row + '][date_start]" value="" placeholder="{{ entry_date_start }}" data-date-format="YYYY-MM-DD" class="pts-form-control" /><span class="pts-input-group-pts-btn"><button type="button" class="pts-btn pts-btn-default"><i class="fa fa-calendar"></i></button></span></div></td>';
	html += '  <td class="pts-text-left" style="width: 20%;"><div class="pts-input-group date d-flex"><input type="text" name="product_discount[' + discount_row + '][date_end]" value="" placeholder="{{ entry_date_end }}" data-date-format="YYYY-MM-DD" class="pts-form-control" /><span class="pts-input-group-pts-btn"><button type="button" class="pts-btn pts-btn-default"><i class="fa fa-calendar"></i></button></span></div></td>';
	html += '  <td class="pts-text-left"><button type="button" onclick="$(\'#discount-pts-row' + discount_row + '\').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="pts-btn pts-btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
	html += '</tr>';

	$('#discount tbody').append(html);

	$('.date').datetimepicker({
		pickTime: false
	});

	discount_row++;
}
//--></script>
  <script type="text/javascript"><!--
var special_row = {{ special_row }};

function addSpecial() {
	html  = '<tr id="special-pts-row' + special_row + '">';
    html += '  <td class="pts-text-left"><select name="product_special[' + special_row + '][customer_group_id]" class="pts-form-control">';
    {% for customer_group in customer_groups %}
    html += '      <option value="{{ customer_group.customer_group_id }}">{{ customer_group.name|escape('js') }}</option>';
    {% endfor %}
    html += '  </select></td>';
    html += '  <td class="pts-text-right"><input type="text" name="product_special[' + special_row + '][priority]" value="" placeholder="{{ entry_priority }}" class="pts-form-control" /></td>';
	html += '  <td class="pts-text-right"><input type="text" name="product_special[' + special_row + '][price]" value="" placeholder="{{ entry_price }}" class="pts-form-control" /></td>';
    html += '  <td class="pts-text-left" style="width: 20%;"><div class="pts-input-group date d-flex"><input type="text" name="product_special[' + special_row + '][date_start]" value="" placeholder="{{ entry_date_start }}" data-date-format="YYYY-MM-DD" class="pts-form-control" /><span class="pts-input-group-pts-btn"><button type="button" class="pts-btn pts-btn-default"><i class="fa fa-calendar"></i></button></span></div></td>';
	html += '  <td class="pts-text-left" style="width: 20%;"><div class="pts-input-group date d-flex"><input type="text" name="product_special[' + special_row + '][date_end]" value="" placeholder="{{ entry_date_end }}" data-date-format="YYYY-MM-DD" class="pts-form-control" /><span class="pts-input-group-pts-btn"><button type="button" class="pts-btn pts-btn-default"><i class="fa fa-calendar"></i></button></span></div></td>';
	html += '  <td class="pts-text-left"><button type="button" onclick="$(\'#special-pts-row' + special_row + '\').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="pts-btn pts-btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
	html += '</tr>';

	$('#special tbody').append(html);

	$('.date').datetimepicker({
		language: '{{ datepicker }}',
		pickTime: false
	});

	special_row++;
}
//--></script>
  <script type="text/javascript"><!--
var image_row = {{ image_row }};

function addImage() {
	html  = '<tr id="image-pts-row' + image_row + '">';
	html += '  <td class="pts-text-left"><a href="" id="thumb-image' + image_row + '"data-toggle="image" class="img-thumbnail"><img src="{{ placeholder }}" alt="" title="" data-placeholder="{{ placeholder }}" /></a><input type="hidden" name="product_image[' + image_row + '][image]" value="" id="input-image' + image_row + '" /></td>';
	html += '  <td class="pts-text-right"><input type="text" name="product_image[' + image_row + '][sort_order]" value="" placeholder="{{ entry_sort_order }}" class="pts-form-control" /></td>';
	html += '  <td class="pts-text-left"><button type="button" onclick="$(\'#image-pts-row' + image_row  + '\').remove();" data-toggle="tooltip" title="{{ button_remove }}" class="pts-btn pts-btn-danger"><i class="fa fa-minus-circle"></i></button></td>';
	html += '</tr>';

	$('#images tbody').append(html);

	image_row++;
}
//--></script>
  <script type="text/javascript"><!--
$('.date').datetimepicker({
	language: '{{ datepicker }}',
	pickTime: false
});

$('.time').datetimepicker({
	language: '{{ datepicker }}',
	pickDate: false
});

$('.datetime').datetimepicker({
	language: '{{ datepicker }}',
	pickDate: true,
	pickTime: true
});
//--></script>
  <script type="text/javascript"><!--
$('#language a:first').tab('show');
$('#option a:first').tab('show');
//--></script>
<script type="text/javascript"><!--
$(document).ready(function () {                       
        $("#input-category").on("change", function (e) {
            var category_id = $("#input-category").val();
			if(category_id == '') {
				$('#sub-input-category').empty().append('<option value="" >None</option>');
			} else {
            $.ajax({
			url: 'https://www.obejor.com.ng/index.php?route=extension/account/purpletree_multivendor/sellerproduct/autosubcategory&category_id=' +  category_id,

			dataType: 'json',	
			success: function(json) {
				$('#sub-input-category').empty();
				$.each(json,function(k,v){
					$('#sub-input-category').append('<option value="'+ v.subcategory_id +'">'+ v.name +'</option>');
				})
			}
			});
			}
	});
});

//--></script>
<script>
  // SELECTING ALL TEXT ELEMENTS
    var productname = document.forms['form-product']['product_description[1][name]'];
    var producttag = document.forms['form-product']['product_description[1][tag]'];
    var productcategory = document.forms['form-product']['category'];
    var productDesc = document.forms['form-product']['product_description[1][description]'];
    
    // SELECTING ALL ERROR DISPLAY ELEMENTS
    var productname_error = document.getElementById('productname_error');
    var producttag_error = document.getElementById('producttag_error');
    var productcategory_error = document.getElementById('productcategory_error');
    var productDesc_error = document.getElementById('productDesc_error');
    
    // SETTING ALL EVENT LISTENERS
    productname.addEventListener('blur', productnameVerify, true);
    producttag.addEventListener('blur', productTagValidate, true);
    productcategory.addEventListener('blur', productCategoryValidate, true);  
    productDesc.addEventListener('blur', productDescValidate, true);  
    
    // PROGRESSBAR
    var namecheck = 0;
    var tagcheck = 0;
    var categorycheck = 0;
    var descheck = 0;
    

    var counter=0;
    function moveNameBy10(){
      //width = 10;
      var progressbar = document.getElementById('progress-indicator');
      /*Get the current width of the progress bar as an integer value and the append additional width with % symbol */
      /*Added by ICI*/
      if (namecheck === 1) {
          return;
      }  else {
         var cwidth = progressbar.style.width;
         var actualwidth = "";
         for(var i=0;i<cwidth.length-1;i++){
             actualwidth += cwidth.charAt(i);
         }
         if((parseInt(actualwidth) + 10) > 100){
             progressbar.style.width = "100%";
         }else{
             progressbar.style.width = (parseInt(actualwidth) + 10) + '%';
         }
         progressbar.innerHTML = progressbar.style.width;
         namecheck = 1
      }
    }
    function moveTagBy10(){
      var progressbar = document.getElementById('progress-indicator');
      /*Get the current width of the progress bar as an integer value and the append additional width with % symbol */
      /*Added by ICI*/
      if (tagcheck === 1) {
          return;
      }  else {
         var cwidth = progressbar.style.width;
         var actualwidth = "";
         for(var i=0;i<cwidth.length-1;i++){
             actualwidth += cwidth.charAt(i);
         }
         if((parseInt(actualwidth) + 10) > 100){
             progressbar.style.width = "100%";
         }else{
             progressbar.style.width = (parseInt(actualwidth) + 10) + '%';
         }
         progressbar.innerHTML = progressbar.style.width;
         tagcheck = 1
      }
    }
    function moveCategoryBy10(){
      var progressbar = document.getElementById('progress-indicator');
      /*Get the current width of the progress bar as an integer value and the append additional width with % symbol */
      /*Added by ICI*/
      if (categorycheck === 1) {
          return;
      }  else {
         var cwidth = progressbar.style.width;
         var actualwidth = "";
         for(var i=0;i<cwidth.length-1;i++){
             actualwidth += cwidth.charAt(i);
         }
         if((parseInt(actualwidth) + 10) > 100){
             progressbar.style.width = "100%";
         }else{
             progressbar.style.width = (parseInt(actualwidth) + 10) + '%';
         }
         progressbar.innerHTML = progressbar.style.width;
         categorycheck = 1
      }
    }
    function moveDescBy10(){
      var progressbar = document.getElementById('progress-indicator');
      /*Get the current width of the progress bar as an integer value and the append additional width with % symbol */
      /*Added by ICI*/
      if (descheck === 1) {
          return;
      }  else {
         var cwidth = progressbar.style.width;
         var actualwidth = "";
         for(var i=0;i<cwidth.length-1;i++){
             actualwidth += cwidth.charAt(i);
         }
         if((parseInt(actualwidth) + 10) > 100){
             progressbar.style.width = "100%";
         }else{
             progressbar.style.width = (parseInt(actualwidth) + 10) + '%';
         }
         progressbar.innerHTML = progressbar.style.width;
         descheck = 1
      }
    }
    
    function removeNameBy10(){
      //width = 10;
      var progressbar = document.getElementById('progress-indicator');
      /*Get the current width of the progress bar as an integer value and the append additional width with % symbol */
      /*Added by ICI*/
    
         var cwidth = progressbar.style.width;
         var actualwidth = "";
         for(var i=0;i<cwidth.length-1;i++){
             actualwidth += cwidth.charAt(i);
         }
         if((parseInt(actualwidth) - 10) < 0){
             progressbar.style.width = "0%";
         }else{
             progressbar.style.width = (parseInt(actualwidth) - 10) + '%';
         }
         progressbar.innerHTML = progressbar.style.width;
         namecheck = 0
    }
    function removeTagBy10(){
      //width = 10;
      var progressbar = document.getElementById('progress-indicator');
      /*Get the current width of the progress bar as an integer value and the append additional width with % symbol */
      /*Added by ICI*/
    
         var cwidth = progressbar.style.width;
         var actualwidth = "";
         for(var i=0;i<cwidth.length-1;i++){
             actualwidth += cwidth.charAt(i);
         }
         if((parseInt(actualwidth) - 10) < 0){
             progressbar.style.width = "0%";
         }else{
             progressbar.style.width = (parseInt(actualwidth) - 10) + '%';
         }
         progressbar.innerHTML = progressbar.style.width;
         tagcheck = 0
    }
    function removeCategoryBy10(){
      //width = 10;
      var progressbar = document.getElementById('progress-indicator');
      /*Get the current width of the progress bar as an integer value and the append additional width with % symbol */
      /*Added by ICI*/
    
         var cwidth = progressbar.style.width;
         var actualwidth = "";
         for(var i=0;i<cwidth.length-1;i++){
             actualwidth += cwidth.charAt(i);
         }
         if((parseInt(actualwidth) - 10) < 0){
             progressbar.style.width = "0%";
         }else{
             progressbar.style.width = (parseInt(actualwidth) - 10) + '%';
         }
         progressbar.innerHTML = progressbar.style.width;
         categorycheck = 0
    }
    function removeDescBy10(){
      //width = 10;
      var progressbar = document.getElementById('progress-indicator');
      /*Get the current width of the progress bar as an integer value and the append additional width with % symbol */
      /*Added by ICI*/
    
         var cwidth = progressbar.style.width;
         var actualwidth = "";
         for(var i=0;i<cwidth.length-1;i++){
             actualwidth += cwidth.charAt(i);
         }
         if((parseInt(actualwidth) - 10) < 0){
             progressbar.style.width = "0%";
         }else{
             progressbar.style.width = (parseInt(actualwidth) - 10) + '%';
         }
         progressbar.innerHTML = progressbar.style.width;
         descheck = 0
    }

    function productnameVerify() {
      if ( (productname.value).trim().length < 1) {
           productname.style.border = "2px solid red";
           document.getElementById('productname_error').style.color = "red";
           productname_error.innerHTML = "product name should not be blank";
           removeNameBy10();
           return true;
      } else {
           moveNameBy10();
           productname.style.border = "1px solid #EEE";
           productname_error.innerHTML = " ";
      }
    }
    function productTagValidate() {
      if ( (producttag.value).trim().length < 1) {
           producttag.style.border = "2px solid red";
           document.getElementById('producttag_error').style.color = "red";
           producttag_error.innerHTML = "product tags must have a value";
           removeTagBy10(10);
           return true;
      } else {
           moveTagBy10(10);
           productname.style.border = "1px solid #EEE";
           productname_error.innerHTML = " ";
      }
    }
    
    function productCategoryValidate() {
      if ( (productcategory.value).trim().length < 1) {
           productcategory.style.border = "2px solid red";
           document.getElementById('productcategory_error').style.color = "red";
           productcategory_error.innerHTML = "You must select at least one product category";
           removeCategoryBy10();
           return true;
      } else {
           moveCategoryBy10();
           productname.style.border = "1px solid #EEE";
           productname_error.innerHTML = " ";
      }
    }
    function productDescValidate() {
      if ( (productDesc.value).trim().length < 1) {
           productDesc.style.border = "2px solid red";
           document.getElementById('productname_error').style.color = "red";
           productDesc_error.innerHTML = "product name should not be blank";
           removeDescBy10();
           return true;
      } else {
           moveDescBy10();
           productDesc.style.border = "1px solid #EEE";
           productname_error.innerHTML = " ";
      }
    }
    
    
</script>
<script>
// /
    $(window).scroll(function(){
        const headerHeight = 250;
        if($(this).scrollTop() > headerHeight && !$('.progress').hasClass('sticky')){
            $('.progress').addClass('sticky');
            $('.dropdown-content').addClass('sticky-dropdown');
        }else if ($(this).scrollTop() < headerHeight){
            $('.progress').removeClass('sticky');
            $('.dropdown-content').removeClass('sticky-dropdown');
        }
    })
</script><meta http-equiv="Content-Type" content="text/html; charset=utf-8">
{{ footer }}
